<div class="card bg-white rounded-xl shadow-lg mb-6">
  <div class="p-6 border-b border-gray-200 flex justify-between items-center">
    <h2 class="text-xl font-semibold text-gray-800">Gestión de Estudiantes</h2>
    <button class="btn-primary px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all" 
            (click)="openModal()">
      <i class="fas fa-plus mr-2"></i> Agregar Estudiante
    </button>
  </div>
  
  <div class="p-6">
    <div class="overflow-x-auto">
      <table class="w-full table-auto">
        <thead>
          <tr class="bg-gray-50">
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Código</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">DNI</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Apellido</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Sección</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Usuario</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr *ngFor="let estudiante of estudiantes" class="hover:bg-gray-50 transition-colors">
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ estudiante.codigo }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ estudiante.dni }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ estudiante.nombre }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ estudiante.apellido }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ estudiante.seccion?.nombre || 'Sin sección' }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ estudiante.usuario?.correo }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
              <button class="text-blue-600 hover:text-blue-900 mr-3" (click)="openModal(estudiante)">
                <i class="fas fa-edit"></i>
              </button>
              <button class="text-red-600 hover:text-red-900" (click)="deleteEstudiante(estudiante.id_estudiante)">
                <i class="fas fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal (similar al de docentes pero con campo de sección) -->
 <!-- Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" *ngIf="showModal">
  <div class="bg-white rounded-xl shadow-2xl w-full max-w-md mx-4">
    <div class="p-6 border-b border-gray-200">
      <h3 class="text-lg font-semibold text-gray-800">{{ isEditing ? 'Editar' : 'Agregar' }} Docente</h3>
    </div>
    
    <div class="p-6">
      <form>
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Código</label>
          <input type="text" class="input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" 
                 [(ngModel)]="selectedEstudiante.codigo" name="codigo" required>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">DNI</label>
          <input type="text" class="input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" 
                 [(ngModel)]="selectedEstudiante.dni" name="dni" required>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Nombre</label>
          <input type="text" class="input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" 
                 [(ngModel)]="selectedEstudiante.nombre" name="nombre" required>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Apellido</label>
          <input type="text" class="input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" 
                 [(ngModel)]="selectedEstudiante.apellido" name="apellido" required>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Correo Electrónico</label>
          <input type="email" class="input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" 
                 [(ngModel)]="selectedEstudiante.usuario.correo" name="correo" required>
        </div>
        
        <div class="mb-4" *ngIf="!isEditing">
          <label class="block text-sm font-medium text-gray-700 mb-2">Contraseña</label>
          <input type="password" class="input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" 
                 [(ngModel)]="selectedEstudiante.usuario.password" name="password" required>
        </div>
      </form>
    </div>
    
    <div class="p-6 border-t border-gray-200 flex justify-end space-x-3">
      <button class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors" (click)="closeModal()">
        Cancelar
      </button>
      <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all" 
              (click)="saveEstudiante()">
        Guardar
      </button>
    </div>
  </div>
</div>